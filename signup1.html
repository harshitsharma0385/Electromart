<html lang="en"></html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <style>
        .error{
            color: red;
            text-align: left;
        }
    </style>
    <body>
<body class="signbody">

    <center><div class="signbox">

        <div class="signup">
            <center><p class="signhead">Sign Up</p></center>
            <form class="inputs_signup">
                <input type="email" placeholder="Enter your email"  id="email" name="email">
                <span id="emailError" class="error"></span>
                <input type="password" placeholder="Create a new password" name="password" id="password">
                <span id="passwordError" class="error"></span>
                <center><a href="index.html"><button type="submit">Create Account</button></a></center>
            </form>
        </div>
        <p>or</p> 
            <div class="signicons">
                <img src="images/signlogin/google_5968878.png" alt="google" width="40px" height="40px">
                <img src="images/signlogin/facebook_1051309.png" alt="facebook" width="40px" height="40px"> 
                <img src="images/signlogin/apple_831329.png" alt="apple" width="40px" height="40px">
            </div>
        <p class="login">Already a customer? <a href="login.html">Login</a></p>
    </div></center>

    <script>
        const email = document.getElementById("email");
        const emailError = document.getElementById("emailError");
        const password = document.getElementById("password");
        const passwordError = document.getElementById("passwordError")

        email.addEventListener('input', ()=>validateEmail());
        password.addEventListener('input', ()=>validatePassword());
        form.addEventListener('input', function(event){
        event.preventDefault();

        const isFormValid = [validateEmail(), validatePassword()].every(Boolean);
        
        if(isFormValid){
            alert("Form submitted successfuly");
        }
    });
        function validateEmail(){
            const value = email.value.trim();
            const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/
            if(!value){
                setError(email, emailError, "Email is required");
                return false;
            }else if(!regex){
                setError(email, emailError, "Email is invalid");
                return false;
            }else{
                setSuccess(email, emailError);
                return true;
            }
        }

        function validatePassword(){
            const value = password.value.trim();
            const regex = /^[a-zA-Z0-9]{3,}$/
            if(!value){
                setError(password, passwordError, "Password is required");
                return false;
            }else if(!regex){
                setError(password, passwordError, "Password is invalid");
                return false;
            }else{
                setSuccess(password, passwordError);
                return true;
            }
        }

        function setError(input, errorElement, message){
            input.classList.add("invalid");
            input.classList.remove("valid");
            errorElement.textContent = message;
        }

        function setSuccess(input, errorElement){
            input.classList.add("invalid");
            input.classList.remove("valid");
            errorElement.textContent = " ";
        }
    </script>
</body>
</html>